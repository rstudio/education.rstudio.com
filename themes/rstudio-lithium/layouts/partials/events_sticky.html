{{ range $index, $value := where $.Site.RegularPages "Section" "events" }}
  {{ if ge (time .Params.date_start).Unix now.Unix }}
     {{ $d_start := (time .Params.date_start).Format ("January 2") }}
     {{ $d_last := (time .Params.date_end).Format ("January 2, 2006") }}

<div class="event">
  <div class="eventTitle"><a href="{{ .URL }}">{{ .Title }}</a></div>
  <div class="eventLocation">{{ with .Params.location }}{{ . | markdownify }}{{ end }}</div>
  <div class="eventDate">{{ $d_start }}{{ if ne $d_start $d_last }} -
                         {{ if eq (time .Params.date_start).Month (time .Params.date_end).Month }}
                            {{ (time .Params.date_start).Format ("2, 2006") }}
                         {{ else }}
                            {{ $d_last }}
                         {{ end }}{{ end }}</div>
  <div class="eventDetails">{{ with .Params.description }}{{ . | markdownify }}{{ end }}</div>
</div>

{{ end }}
{{ end }}
